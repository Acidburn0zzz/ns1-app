{"version":3,"sources":["../../../src/components/snaptask/snaptask_list.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAAM,gB;AACJ,kCAAY,MAAZ,EAAoB,SAApB,EAA+B,UAA/B,EAA2C;AAAA;;AAC1C,eAAK,UAAL,GAAkB,UAAlB;AACC,eAAK,SAAL,GAAiB,IAAjB;AACA,eAAK,KAAL,GAAa,EAAb;;AAEA,eAAK,QAAL;AACD;;;;qCAEU;AACT,gBAAI,OAAO,IAAX;AACA,mBAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,gCAApB,EAAsD,EAAC,QAAQ,sBAAT,EAAtD,EACN,IADM,CACD,UAAC,IAAD,EAAU;;AAEd,kBAAI,KAAK,IAAL,CAAU,MAAV,GAAmB,CAAvB,EAA0B;AACxB,qBAAK,KAAL,GAAa,KAAK,IAAlB;AACD;AACF,aANM,CAAP;AAOD;;;qCAEU,I,EAAM;AACf,mBAAO,KAAK,UAAL,CAAgB,MAAhB,CAAuB,oCAAkC,KAAK,EAA9D,EAAkE,IAAlE,CAAuE,UAAC,IAAD,EAAU;;AAEvF,aAFM,CAAP;AAGD;;;mCAEQ,I,EAAM;AACd,iBAAK,OAAL,GAAe,KAAf;AACC,mBAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,gCAApB,EAAsD,IAAtD,CAAP;AACD;;;oCACS,I,EAAM;AACf,iBAAK,OAAL,GAAe,IAAf;AACC,mBAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,gCAApB,EAAsD,IAAtD,CAAP;AACD;;;;;;AAGH,uBAAiB,WAAjB,GAA+B,wEAA/B;;kCACQ,gB","file":"snaptask_list.js","sourcesContent":["class SnapTaskListCtrl {\n  constructor($scope, $injector, backendSrv) {\n  \tthis.backendSrv = backendSrv;\n    this.pageReady = true;\n    this.tasks = [];\n\n    this.getTasks();\n  }\n\n  getTasks() {\n    var self = this;\n    return this.backendSrv.get(\"api/plugin-proxy/ns1-app/tasks\", {metric: \"/raintank/apps/ns1/*\"})\n    .then((resp) => {\n      //console.log(resp);\n      if (resp.body.length > 0 ){\n        self.tasks = resp.body;\n      }\n    });\n  }\n\n  removeTask(task) {\n    return this.backendSrv.delete(\"api/plugin-proxy/ns1-app/tasks/\"+task.id).then((resp) => {\n      //remove task from taskList\n    });\n  }\n\n  stopTask(task) {\n  \ttask.enabled = false;\n    return this.backendSrv.put(\"api/plugin-proxy/ns1-app/tasks\", task);\n  }\n  startTask(task) {\n  \ttask.enabled = true;\n    return this.backendSrv.put(\"api/plugin-proxy/ns1-app/tasks\", task);\n  }\n}\n\nSnapTaskListCtrl.templateUrl = 'public/plugins/ns1-app/components/snaptask/partials/snaptask_list.html';\nexport {SnapTaskListCtrl};\n"]}